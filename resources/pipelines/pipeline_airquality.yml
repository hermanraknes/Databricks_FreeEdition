resources:
  pipelines:
    airquality_pipeline:
      name: "Air Quality Pipeline (${bundle.target})"
      tags:
        Env: "${var.env_tag}"
      
      # Use the variable instead of the 'if' function here
      # to ensure the CLI sees it as a boolean.
      development: ${var.is_dev_mode}
      
      continuous: false
      channel: current
      photon: true
      serverless: true
      catalog: ${var.catalog}
      target: "bronze"
      root_path: "${var.repo_root}/MET/PIPELINE/Airquality Pipeline"

      libraries:
      - {}
      - file:
          path: ${var.repo_root}/MET/PIPELINE/Airquality Pipeline/transformations/bronze.py
      - file:
          path: ${var.repo_root}/MET/PIPELINE/Airquality Pipeline/transformations/gold.py
      - file:
          path: ${var.repo_root}/MET/PIPELINE/Airquality Pipeline/transformations/silver.py