bundle:
  name: met_bundle

# Only include the bootstrap job globally
include:
  - resources/bootstrap/*.yml
  - resources/jobs/*.yml
  - resources/pipelines/*.yml

variables:
  catalog:
    default: "main_uc_dev"
  repo_root:
    default: "/Workspace/Databricks_FreeEdition"

targets:
  dev:
    mode: development
    default: true

  prod:
    mode: production
    variables:
      catalog: main_uc_prod

  bootstrap:
    mode: development
    resources:
      jobs:
        get_met_stations:
          $o.delete: true
        ingest_update_met:
          $o.delete: true
      pipelines:
        airquality_pipeline:
          $o.delete: true